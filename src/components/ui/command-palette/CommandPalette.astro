---
import SearchIcon from "../SearchIcon.astro";
---

<div id="command-palette" class="relative z-10 hidden font-sans">
  <div class="fixed inset-0 bg-gray-500/25 transition-opacity" id="backdrop">
  </div>

  <div class="fixed inset-0 z-10 w-screen overflow-y-auto p-4 sm:p-6 md:p-20">
    <div
      id="dialog-panel"
      class="mx-auto max-w-xl transform divide-y divide-gray-100 overflow-hidden rounded-xl bg-white ring-1 shadow-2xl ring-black/5 transition-all scale-95 opacity-0"
    >
      <div class="grid grid-cols-1">
        <input
          id="search-input"
          type="text"
          class="col-start-1 row-start-1 h-12 w-full pr-4 pl-11 text-base text-gray-900 outline-none placeholder:text-gray-400 sm:text-sm"
          placeholder="Search essays, notes, and more..."
          autocomplete="off"
        />
        <SearchIcon />
      </div>

      <div
        id="results-container"
        class="max-h-72 scroll-py-2 overflow-y-auto py-2 text-sm text-gray-800 hidden"
      >
      </div>
      <div id="no-results" class="p-4 text-sm text-gray-500 hidden">
        No results found.
      </div>
    </div>
  </div>
</div>

<script>
  import { initCommandPalette } from "./command-palette";

  document.addEventListener("DOMContentLoaded", () => {
    // Initialize the command palette
    initCommandPalette();
  });
</script>
