---
import type { GardenEntry } from "src/lib/garden/entries";
import EssayCard from "@components/garden/essays/EssayCard.astro";
import BookCard from "@components/garden/books/BookCard.astro";
import NoteCard from "@components/garden/notes/NoteCard.astro";
import TopicCard from "@components/garden/topics/TopicCard.astro";
import TalkCard from "@components/garden/talks/TalkCard.astro";
import { type CollectionEntry } from "astro:content";
import RecipeCard from "@components/garden/recipes/RecipeCard.astro";

interface Props {
  content: GardenEntry;
}

const { content } = Astro.props;
---

{
  (() => {
    switch (content.collection) {
      case "essays":
        return <EssayCard essay={content as CollectionEntry<"essays">} />;
      case "books":
        return <BookCard book={content as CollectionEntry<"books">} />;
      case "notes":
        return <NoteCard note={content as CollectionEntry<"notes">} />;
      case "topics":
        return <TopicCard topic={content as CollectionEntry<"topics">} />;
      case "talks":
        return <TalkCard talk={content as CollectionEntry<"talks">} />;
      case "recipes":
        return <RecipeCard recipe={content as CollectionEntry<"recipes">} />;
      default:
        throw new Error(`Unknown collection: ${content.collection}`);
    }
  })()
}
